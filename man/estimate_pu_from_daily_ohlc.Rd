% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/di_futures.R
\name{estimate_pu_from_daily_ohlc}
\alias{estimate_pu_from_daily_ohlc}
\title{Estimate DI settlement PU from daily OHLC data}
\usage{
estimate_pu_from_daily_ohlc(
  open,
  high,
  low,
  close,
  average_price = NULL,
  maturity_date,
  basis_date,
  cal = NULL,
  include_basis_day = TRUE,
  prefer = c("average_price", "close", "mid", "open"),
  bias_pp = 0,
  snap_to_tick = TRUE,
  rule_change_date = as.Date("2025-08-25")
)
}
\arguments{
\item{open, high, low, close}{Daily OHLC rates (percent per year).}

\item{average_price}{Optional VWAP (percent per year).}

\item{maturity_date}{Maturity `Date` or number of business days to expiry.}

\item{basis_date}{Date of the OHLC bar.}

\item{cal}{`bizdays` calendar. Defaults to `"Brazil/ANBIMA"` when `NULL`.}

\item{include_basis_day}{Whether to add the basis day to the business-day count.}

\item{prefer}{Anchor preference order (`"average_price"`, `"close"`, `"mid"`, `"open"`).}

\item{bias_pp}{Fixed adjustment in percentage points added to the anchor rate.}

\item{snap_to_tick}{Snap `rates` to the DI tick grid before pricing.}

\item{rule_change_date}{Date where the DI tick regime changes.}
}
\value{
A list with elements `rate_anchor`, `rate_adj`, `pu_est`, `valid_days`, and `tick_size`.
}
\description{
Derive a settlement-like PU from daily DI futures rates. Selection priority for
the anchor rate can be customised, a bias adjustment (in percentage points) can
be applied, and the result optionally snaps to the DI tick grid.
}
